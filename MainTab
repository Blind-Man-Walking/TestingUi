--- Creates the default "Main" tab with a welcome message.
function BlindHubsUiLibrary:CreateMainTab()
    local mainTab = self:AddTab("Main")

    task.wait() 
    local player = Players.LocalPlayer
    local userId = player.UserId
    local thumbType = Enum.ThumbnailType.HeadShot
    local thumbSize = Enum.ThumbnailSize.Size420x420
    local content, isReady = Players:GetUserThumbnailAsync(userId, thumbType, thumbSize)

    -- Detect the player's platform
    local platform = "PC" -- Default to PC
    if UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled then
        platform = "Mobile"
    elseif UserInputService.GamepadEnabled and not UserInputService.KeyboardEnabled then
        platform = "Console"
    end

    create("UIPadding", {
        Parent = mainTab.page,
        PaddingTop = UDim.new(0, 10),
        PaddingLeft = UDim.new(0, 10), 
        PaddingRight = UDim.new(0, 10) 
    })

    local welcomeContainer = create("Frame", {
        Name = "WelcomeContainer", 
        Size = UDim2.new(1, 0, 0, 55), 
        BackgroundColor3 = Color3.fromRGB(45, 45, 45), 
        Parent = mainTab.page
    })
    table.insert(self.themeableBackgrounds, {Object = welcomeContainer, BaseColor = Color3.fromRGB(45, 45, 45)})
    create("UICorner", { CornerRadius = UDim.new(0.5, 0), Parent = welcomeContainer })
    local welcomeStroke = create("UIStroke", {Color = self.CurrentThemeColor, Thickness = 1.5, Parent = welcomeContainer})
    table.insert(self.staticThemeElements, {Object = welcomeStroke, Property = "Color"})

    local playerImage = create("ImageLabel", {
        Name = "PlayerImage", Size = UDim2.fromOffset(35, 35), Position = UDim2.new(0, 15, 0.5, 0),
        AnchorPoint = Vector2.new(0, 0.5), BackgroundColor3 = Color3.fromRGB(80, 80, 80),
        Image = content, Parent = welcomeContainer
    })
    create("UICorner", {CornerRadius = UDim.new(0.5, 0), Parent = playerImage})

    local welcomeLabel = create("TextLabel", {
        Name = "WelcomeLabel", Size = UDim2.new(1, -60, 1, 0), Position = UDim2.new(0, 55, 0, 0), BackgroundTransparency = 1,
        Font = Enum.Font.SourceSansBold, Text = "Welcome " .. player.DisplayName .. "!", TextColor3 = Color3.new(1,1,1),
        TextSize = 16, TextXAlignment = Enum.TextXAlignment.Left, Parent = welcomeContainer
    })

    local infoContainer = create("Frame", {
        Name = "InfoContainer", 
        Size = UDim2.new(1, 0, 0, 75), 
        BackgroundColor3 = Color3.fromRGB(45, 45, 45), 
        Parent = mainTab.page
    })
    table.insert(self.themeableBackgrounds, {Object = infoContainer, BaseColor = Color3.fromRGB(45, 45, 45)})
    create("UICorner", { CornerRadius = UDim.new(0, 12), Parent = infoContainer })
    local infoStroke = create("UIStroke", {Color = self.CurrentThemeColor, Thickness = 1.5, Parent = infoContainer})
    table.insert(self.staticThemeElements, {Object = infoStroke, Property = "Color"}) 
    create("UIPadding", {PaddingTop = UDim.new(0, 10), PaddingLeft = UDim.new(0, 10), PaddingRight = UDim.new(0,10), Parent=infoContainer})

    local infoText = create("TextLabel", {
        Name = "InfoText", Size = UDim2.new(1, 0, 1, 0), BackgroundTransparency = 1, Font = Enum.Font.SourceSans,
        Text = string.format([[<b>Username:</b> %s
<b>Platform:</b> %s
<b>Player ID:</b> %d
<b>Language:</b> English]], player.Name, platform, player.UserId),
        TextColor3 = Color3.new(1,1,1), TextSize = 12, RichText = true,
        TextXAlignment = Enum.TextXAlignment.Left, TextYAlignment = Enum.TextYAlignment.Top, Parent = infoContainer
    })

    local discordButton = mainTab:AddButton({Text = "Join Server Discord | Copy Link", Arrow = true}) 
    discordButton.Size = UDim2.new(1, 0, 0, 30) 

    discordButton.MouseButton1Click:Connect(function()
        SetClipboard("https://your.discord.link/here")
        print("Discord link copied to clipboard!")
    end)

    return mainTab
end
