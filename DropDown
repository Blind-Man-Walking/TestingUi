-- ===================================================================
-- CREATE DROPDOWN SCRIPT
-- Run this after creating a tab to add a dropdown menu to it.
-- ===================================================================

-- Find the window and the target tab created by the previous scripts
local Window = getgenv().Window
local TargetTab = getgenv().TargetTab -- This assumes the "Create Tab" script stored the tab here

-- Check if the necessary parts exist
if not Window or not TargetTab then
    warn("CreateDropdown Error: Window or Target Tab not found. Please run the 'Create Window' and 'Create Tab' scripts first.")
    return
end

-- Create a new dropdown with a title and a list of options
local myDropdown = TargetTab:AddDropdown({
    Text = "Target Priority",
    Options = {"Closest Player", "Lowest Health", "Random"}
})

-- Connect a function to the dropdown's state change event
myDropdown.State.Changed:Connect(function(selectedOption)
    print("Dropdown selection changed to:", selectedOption)
    
    -- You can put code here to change how your script behaves based on the selection.
    -- For example:
    -- if selectedOption == "Closest Player" then
    --     -- Set target mode to closest
    -- end
end)

print("Dropdown 'Target Priority' was added to the target tab successfully.")
